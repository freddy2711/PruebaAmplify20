"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4119],{49335:function(n,e,t){t.r(e);var o=t(34727),r=t(67573),i=t(14251),l=t(52875),a=t(69779),c=t(70655),s=t(85893),u=t(67294),d=t(4969),m=t(1803),f=t(89219),p=t(31545),v=t(84555),x=t(78312),h=t(86455),j=t.n(h),g=t(9473),b=t(69706),A=t(42222),Z=t(159),w=function(n){var e,t,h=n.modalShowDocs,w=n.setModalShowDocs,D=(0,g.I0)(),y=(0,g.v9)(function(n){var e;return null==n?void 0:null===(e=n.infoGeneral)||void 0===e?void 0:e.infoGeneral}),_=(0,g.v9)(function(n){var e;return null==n?void 0:null===(e=n.infoExtra)||void 0===e?void 0:e.loadingExtraAdjunto}),N=(0,g.v9)(function(n){var e;return null==n?void 0:null===(e=n.infoExtra)||void 0===e?void 0:e.infoExtra}),E=function(n,e){var t=e.filter(function(e){return e.value.toLocaleUpperCase()===n.toLocaleUpperCase()});return t.length>0?t[0]:e[0]},T=[{label:"-- Seleccionar Tipo Adjunto --",value:"0"},],C=(0,u.useState)(T),I=C[0],P=C[1],B={ddlTipoAdjunto:"0",txtfile:{},txtDescripcionDocumento:""},S=(0,u.useState)(B),k=S[0],G=S[1],R=k.ddlTipoAdjunto,z=k.txtfile,L=k.txtDescripcionDocumento,O=function(n,e){if("txtDescripcionDocumento"===e){console.log(n);var t=n.target.value;G((0,l.Z)((0,i.Z)({},k),(0,r.Z)({},e,t)))}else{console.log(n);var o=n.value;G((0,l.Z)((0,i.Z)({},k),(0,r.Z)({},e,o)))}},F=function(n){var e=!1;console.log("VALIDARRRRR___",n);var t=["pdf","doc","docx","xlsx","xls","pptx","ppt","jpeg","rar","zip","png",],o=n.file,r=o.size,i=o.name,l=i.substring(i.lastIndexOf(".")+1,i.length);return console.log("TYPE__",[t.includes(l),l]),r<=1e7?t.includes(l)?e=!0:j().fire({title:"Portal de Docentes",text:"Por favor cargue un archivo con extensi\xf3n: ".concat(t.join(",")),icon:"warning",showCancelButton:!1,confirmButtonColor:"#3085d6",confirmButtonText:"OK"}):j().fire({title:"Portal de Docentes",text:"Por favor cargue un archivo que peso como maximo 10MB.		",icon:"warning",showCancelButton:!1,confirmButtonColor:"#3085d6",confirmButtonText:"OK"}),e},H=(e=(0,o.Z)(function(n){return(0,c.__generator)(this,function(e){return F(n)&&(console.log(n),G((0,l.Z)((0,i.Z)({},k),{txtfile:n}))),[2]})}),function(n){return e.apply(this,arguments)}),M=(t=(0,o.Z)(function(n){var e,t,o,r;return(0,c.__generator)(this,function(o){switch(o.label){case 0:n.preventDefault(),t=null==(e=(0,A.get)(b.EG))?void 0:e.userName,o.label=1;case 1:var i;return o.trys.push([1,3,,4]),[4,(i={IdPersonaAdjunto:"null",IdPersona:y.idPersona,NombreAdjunto:z.name,RutaAdjunto:"",DescripcionAdjunto:L,ExtensionAdjunto:z.name.substring(z.name.lastIndexOf(".")+1,z.name.length),Activo:"1",audit_usuario_creacion:t,audit_usuario_actualizacion:"",IdTipoAdjunto:R,IdEstudio:"null",IdExperienciaLaboral:"null",filebase64:z.base64.split("base64,")[1]},D((0,Z.u2)(i)))];case 2:return o.sent(),G(B),w(!1),[3,4];case 3:return r=o.sent(),console.log(r),[3,4];case 4:return[2]}})}),function(n){return t.apply(this,arguments)});return(0,u.useEffect)(function(){var n,e=(n=(0,o.Z)(function(){var n;return(0,c.__generator)(this,function(e){return N.paises&&(n=null==N?void 0:N.tipoAdjunto.map(function(n){return{label:null==n?void 0:n.EnclosureTypeName,value:null==n?void 0:n.IdAttachmentType}}),P((0,a.Z)(T).concat((0,a.Z)(n)))),[2]})}),function(){return n.apply(this,arguments)});0!==Object.keys(N).length&&_&&!0===_&&e()},[_]),(0,s.jsx)(m.default,{size:"lg",show:h,onHide:function(){return w(!1)},titulo:"Documentos",children:!0===_?(0,s.jsxs)(f.Z,{id:"addDocumentos",onsubmit:function(n){return M(n)},children:[(0,s.jsxs)("div",{className:"form-group row mt-3",children:[(0,s.jsx)("div",{className:"col-md-4 col-12",children:"Tipo de documento :"}),(0,s.jsx)("div",{className:"col-md-8 col-12",children:(0,s.jsx)(d.ZP,{options:I,id:"ddlTipoAdjunto",instanceId:"ddlTipoAdjunto",name:"ddlTipoAdjunto",defaultValue:E(R,I),onChange:function(n){return O(n,"ddlTipoAdjunto")},value:E(R,I)})})]}),(0,s.jsxs)("div",{className:"form-group row mt-3",children:[(0,s.jsx)("div",{className:"col-md-4 col-12",children:"Seleccionar Archivo"}),(0,s.jsx)("div",{className:"col-md-8 col-12",children:(0,s.jsx)(x.Z,{labelText:z.name,multiple:!1,imagePreview:!1,callbackFunction:function(n){H(n),console.log("subio")},accept:"png",buttonComponent:(0,s.jsx)("button",{type:"button",className:"btn btn-primary",style:{borderRadius:"0 0.25rem 0.25rem 0"},children:"Elegir"}),labelStyle:{fontSize:16,color:"rgba(0, 0, 0, 0.298039)",padding:"0.375rem 0.75rem",border:"1px solid #dee2e6",borderRadius:"0.25rem 0 0 0.25rem",minHeight:"38px",verticalAlign:"middle",lineHeight:"1.5",width:"85%"}})})]}),(0,s.jsxs)("div",{className:"form-group row mt-3",children:[(0,s.jsx)("div",{className:"col-md-4 col-12",children:"Descripci\xf3n del Documento"}),(0,s.jsx)("div",{className:"col-md-8 col-12",children:(0,s.jsx)(p.Z,{id:"txtDescripcionDocumento",type:"text",name:"txtDescripcionDocumento",classname:"text-center",placeholder:"",value:L,onchange:function(n){return O(n,"txtDescripcionDocumento")}})})]}),(0,s.jsx)("div",{className:"col-12 mt-3 text-center",children:(0,s.jsx)(v.Z,{type:"submit",variant:"secondary",classname:"btn-sm",children:"Guardar"})})]}):"Cargando..."})};e.default=w},4119:function(n,e,t){t.r(e);var o=t(34727),r=t(70655),i=t(85893),l=t(67294),a=t(9473),c=t(89219),s=t(84555),u=t(13649),d=t(58071),m=t(86455),f=t.n(m),p=t(27201),v=t(159),x=t(49335),h=t(98521),j=function(){var n,e,t=(0,a.I0)(),m=(0,a.v9)(function(n){var e;return null==n?void 0:null===(e=n.infoGeneral)||void 0===e?void 0:e.infoGeneral}),j=(0,a.v9)(function(n){var e,t;return null==n?void 0:null===(e=n.infoGeneral)||void 0===e?void 0:null===(t=e.infoGeneral)||void 0===t?void 0:t.Adjuntos}),g=(0,l.useState)(!1),b=g[0],A=g[1],Z=(0,l.useState)(!1),w=Z[0],D=Z[1],y=function(n){A(n)},_=(n=(0,o.Z)(function(n){return(0,r.__generator)(this,function(e){var i;return f().fire({title:"Adjuntos",text:"\xbfEst\xe1 seguro que desea eliminar estos datos?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"}).then((i=(0,o.Z)(function(e){var o;return(0,r.__generator)(this,function(r){switch(r.label){case 0:var i;if(!e.isConfirmed)return[3,2];return(o=j.filter(function(e){return e.idPersonaAdjunto===n}))[0].activo="0",o[0].IdPersona=null==m?void 0:m.idPersona,o[0].IdEstudio="null",o[0].IdExperienciaLaboral="null",[4,(i=o[0],t((0,v.Bk)(i)))];case 1:r.sent(),r.label=2;case 2:return[2]}})}),function(n){return i.apply(this,arguments)})),[2]})}),function(e){return n.apply(this,arguments)}),N=(e=(0,o.Z)(function(n){var e,t;return(0,r.__generator)(this,function(o){switch(o.label){case 0:console.log(n),D(!0),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,h.eS.downloadFile(n)];case 2:return e=o.sent(),console.log(e.data),window.open(e.data),[3,4];case 3:return t=o.sent(),console.log(t),[3,4];case 4:return D(!1),[2]}})}),function(n){return e.apply(this,arguments)});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.Z,{loading:w}),(0,i.jsxs)(c.Z,{id:"px-3 py-3",children:[(0,i.jsx)("div",{className:"form-group row",children:(0,i.jsx)("div",{className:"col-sm-3",children:(0,i.jsx)(s.Z,{type:"button",variant:"secondary",classname:"btn-sm",onclick:function(){return y(!0)},children:"Agregar"})})}),(0,i.jsx)(u.Z,{classname:"mb-3 mt-3",children:m.Adjuntos&&m.Adjuntos.length>0?m.Adjuntos.map(function(n,e){return"0"!==n.activo&&!1!==n.activo?(0,i.jsxs)(d.Z,{classname:"row d-flex py-3 px-0 mx-0",children:[(0,i.jsxs)("div",{className:"col-12 col-md-6",children:[(0,i.jsx)("p",{className:"mb-1",children:(0,i.jsx)("b",{children:n.nombreAdjunto})}),(0,i.jsx)("p",{className:"mb-1",children:n.descripcionAdjunto}),(0,i.jsx)("span",{className:"d-none"})]}),(0,i.jsxs)("div",{className:"col-12 col-md-6 text-end",children:[(0,i.jsx)(s.Z,{type:"button",variant:"secondary",classname:"btn-sm me-2",onclick:function(){return N(n.nombreAdjunto)},children:"Descargar"}),(0,i.jsx)(s.Z,{type:"button",variant:"danger",classname:"btn-sm",onclick:function(){return _(n.idPersonaAdjunto)},children:"Eliminar"})]})]},e):null}):null})]}),(0,i.jsx)(x.default,{modalShowDocs:b,setModalShowDocs:A})]})};e.default=j}}]);