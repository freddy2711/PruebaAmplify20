(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[77],{11588:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/recuperar-adelantar/editar",function(){return n(41274)}])},41274:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var r=n(34727),a=n(70655),o=n(85893),s=n(67294),c=n(84555),i=n(57870),u=n(27566),l=n(63242),d=n(89038),p=n(53496),f=n(80497),h=n(46113),m=n(14251),v=n(24481);v.Z;var C=(function(e){return(0,o.jsx)(v.Z,(0,m.Z)({},e))}).bind({});C.args={classname:"m-3",children:"tabla"};var x=n(64941),b=n.n(x),g=n(42222),w=n(69706),_=n(98521),I=n(30381),D=n.n(I),H=n(27201),y=n(86455),N=n.n(y),E=n(46546),R=n(34365),A=n(95821),T=n(26692),L=n(34155),U=function(){var e,t,n,m,v,x,I,y,U,j,S,P,Z,B,F,M,O,k,Y,V,K,G,X,q,W,z,J=(0,s.useState)({aula:"",aulId:0,carId:"",carrer:"",coruseId:"",course:"",dateLost:"",dateRecuperation:"",hour:0,hourIdProgramationEnd:0,hourIdProgramationIni:0,nroHours:0,nroRequest:0,sede:"",semester:"",state:""}),Q=J[0],$=J[1],ee=(0,s.useState)({viewtext:"",viewtextDate:"",viewtextHour:"",viewtextHourList:""}),et=ee[0],en=ee[1],er=(0,s.useState)({AulCodigo:"",CarCodigo:"",ClaCodigo:"",ClaseTipo:"",CurCodigo:"",Fecha:"",HoraIdFin:0,HoraIdInicio:0,HorCodigoFin:0,HorCodigoInicio:0,HorDia:0,HorFin:"",HorInicio:"",HorMinutosFin:0,HorMinutosInicio:0,HorNroSesion:0,NroHoras:0,SemestreId:0,TipoDocente:"",TraCodigo:""}),ea=er[0],eo=er[1],es=(0,s.useState)([""]),ec=es[0],ei=es[1],eu=(0,s.useState)(!1),el=eu[0],ed=eu[1],ep=(0,s.useState)([""]),ef=ep[0],eh=ep[1],em=(0,s.useState)(""),ev=em[0],eC=em[1],ex=(0,s.useState)(!1),eb=ex[0],eg=ex[1],ew=(0,s.useState)(""),e_=ew[0],eI=ew[1],eD=(0,s.useState)(""),eH=eD[0],ey=eD[1],eN=(0,s.useState)([]),eE=eN[0],eR=eN[1],eA=(0,s.useState)([""]),eT=eA[0],eL=eA[1],eU=(0,s.useState)([]),ej=eU[0],eS=eU[1],eP=(0,s.useState)(!1),eZ=eP[0],eB=eP[1],eF=(0,s.useState)(""),eM=eF[0],eO=eF[1],ek=(0,s.useState)({btnAnular:!1,btnUpdate:!1}),eY=ek[0],eV=ek[1],eK=(0,s.useState)(""),eG=eK[0],eX=eK[1],eq=(0,s.useState)(""),eW=eq[0],ez=eq[1],eJ=(0,s.useState)(""),eQ=eJ[0],e$=eJ[1],e0=(0,s.useState)(!0),e1=e0[0],e3=e0[1],e2=(0,s.useState)(!0),e4=e2[0],e5=e2[1],e6=(0,s.useState)("0"),e8=e6[0],e9=e6[1],e7=(0,s.useState)("0"),te=e7[0],tt=e7[1],tn=(0,s.useState)(!1),tr=tn[0],ta=tn[1],to=(0,s.useState)(!1),ts=to[0],tc=to[1],ti=(0,s.useState)(""),tu=ti[0],tl=ti[1],td=JSON.parse((0,g.get)(w.Tx)),tp=(0,g.get)(w.EG),tf=null==tp?void 0:tp.userName,th=(0,g.get)(w.FD),tm=new Date,tv=(e=(0,r.Z)(function(e){var t,n;return(0,a.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,_.wU.ClassRecuperation(e)];case 1:if($({aula:(t=r.sent())[0].aula,aulId:t[0].aulId,carId:t[0].carId,carrer:t[0].carrer,coruseId:t[0].coruseId,course:t[0].course,dateLost:tK(t[0].dateLost,1),dateRecuperation:tK(t[0].dateRecuperation,2),hour:t[0].hour,hourIdProgramationEnd:t[0].hourIdProgramationEnd,hourIdProgramationIni:t[0].hourIdProgramationIni,nroHours:t[0].nroHours,nroRequest:t[0].nroRequest,sede:t[0].sede,semester:t[0].semester,state:t[0].state}),""!==t[0].dateRecuperation)return tL(t[0].dateRecuperation,new Date(t[0].dateLost)),eI(t[0].dateRecuperation),[2,t[0]];return[2,""];case 2:return n=r.sent(),(0,A.Uw)(n.message),ed(!1),[3,3];case 3:return[2]}})}),function(t){return e.apply(this,arguments)}),tC=(t=(0,r.Z)(function(e,t,n,r){var o,s,c;return(0,a.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o={action:"get_horario",classCode:e,semesterCode:t,date:n,teacherCode:r},[4,_.wU.ScheduleSessions(o.action,o.classCode,o.semesterCode,o.date,o.teacherCode)];case 1:return[2,a.sent()];case 2:return c=a.sent(),(0,A.Uw)(c.message),ed(!1),[3,3];case 3:return[2]}})}),function(e,n,r,a){return t.apply(this,arguments)}),tx=(n=(0,r.Z)(function(){var e,t,n,r,o,s,c,i,u;return(0,a.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),e=[],[4,_.wU.listLaboratories()];case 1:t=a.sent(),n=!0,r=!1,o=void 0;try{for(s=t[Symbol.iterator]();!(n=(c=s.next()).done);n=!0)i=c.value,e.push(i.HorInicioDesc)}catch(l){r=!0,o=l}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return ei(e),eh(t),[2,{LaboratoriesData:t,dataFormated:e}];case 2:return u=a.sent(),(0,A.Uw)(u.message),ed(!1),[3,3];case 3:return[2]}})}),function(){return n.apply(this,arguments)}),tb=(m=(0,r.Z)(function(e){var t,n;return(0,a.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,_.wU.listDateHoliday(e)];case 1:return eR(t=r.sent()),[2,t];case 2:return n=r.sent(),(0,A.Uw)(n.message),ed(!1),[3,3];case 3:return[2]}})}),function(e){return m.apply(this,arguments)}),tg=(v=(0,r.Z)(function(e,t,n,r,o){var s,c,i,u,l,d,p,f,h,m,v,C,x,b,g,w,I;return(0,a.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),ed(!0),p=[],n=(n=n.split("T"))[0].replace("-","").replace("-",""),[4,_.wU.ClasEnabled(n,n)];case 1:h=e.sent().filter(function(e){return e.campusCode===t}),m=!0,v=!1,C=void 0;try{for(x=h[Symbol.iterator]();!(m=(b=x.next()).done);m=!0)g=b.value,p.push(g.classroomCode)}catch(r){v=!0,C=r}finally{try{m||null==x.return||x.return()}finally{if(v)throw C}}return eO("        * Capacidad : ".concat(null===(s=h[0])||void 0===s?void 0:s.capacity," Personas\n      * Ubicaci\xf3n : ").concat(null===(c=h[0])||void 0===c?void 0:c.classroomCode[1],' Piso, Pab "').concat(null===(i=h[0])||void 0===i?void 0:i.classroomCode[0],'"\n      * Campus    : ').concat(null===(u=h[0])||void 0===u?void 0:u.campusName,"\n      * Lugar     : ").concat(null===(l=h[0])||void 0===l?void 0:l.classroomName)),tt(null===(d=h[0])||void 0===d?void 0:d.classroomCode),eL(p),eS(h),ed(!1),[2,h];case 2:return I=e.sent(),(0,A.Uw)(I.message),ed(!1),[3,3];case 3:return[2]}})}),function(e,t,n,r,a){return v.apply(this,arguments)}),tw=(x=(0,r.Z)(function(e,t,n,r,o,s,c,i,u,l){var d,p,f;return(0,a.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),ed(!0),d={recoveryId:e,classDate:t,dateRequired:n,codeHour:r,nroHours:o,classRoomCode:s,user:c,host:i,type:u,path:l},[4,_.wU.AttendanceRecoverysPUT(d.recoveryId,d.classDate,d.dateRequired,d.codeHour,d.nroHours,d.classRoomCode,d.user,d.host,d.type,d.path)];case 1:return tj(tY((p=a.sent()).data.message),p.data.state),t6(),ed(!1),(0,R.X0)("/recuperar-adelantar",ed),[3,3];case 2:return f=a.sent(),(0,A.Uw)(f.message),ed(!1),[3,3];case 3:return[2]}})}),function(e,t,n,r,a,o,s,c,i,u){return x.apply(this,arguments)}),t_=(I=(0,r.Z)(function(e){var t,n;return(0,a.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,_.wU.DeleteRecovery(e)];case 1:return[2,t.sent()];case 2:return n=t.sent(),(0,A.Uw)(n.message),ed(!1),[3,3];case 3:return[2]}})}),function(e){return I.apply(this,arguments)}),tI=(y=(0,r.Z)(function(e){var t,n;return(0,a.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,_.wU.GetTeacherUser(e)];case 1:return[2,t.sent()[0]];case 2:return n=t.sent(),(0,A.Uw)(n.message),ed(!1),[3,3];case 3:return[2]}})}),function(e){return y.apply(this,arguments)}),tD=(U=(0,r.Z)(function(e){var t,n;return(0,a.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,_.wU.GetClassTeachers(e)];case 1:return[2,t.sent()[0]];case 2:return n=t.sent(),(0,A.Uw)(n.message),ed(!1),[3,3];case 3:return[2]}})}),function(e){return U.apply(this,arguments)}),tH=(j=(0,r.Z)(function(e){var t,n;return(0,a.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,_.wU.GetTeacher(e)];case 1:return[2,t.sent()[0]];case 2:return n=t.sent(),(0,A.Uw)(n.message),ed(!1),[3,3];case 3:return[2]}})}),function(e){return j.apply(this,arguments)}),ty=(S=(0,r.Z)(function(e){var t,n;return(0,a.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,_.wU.email(e)];case 1:return[2,t.sent()];case 2:return n=t.sent(),(0,A.Uw)(n.message),ed(!1),[3,3];case 3:return[2]}})}),function(e){return S.apply(this,arguments)}),tN=(P=(0,r.Z)(function(e,t){var n,r;return(0,a.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,_.wU.GetRateCampusCode(e,t)];case 1:return[2,n.sent()];case 2:return r=n.sent(),(0,A.Uw)(r.message),ed(!1),[3,3];case 3:return[2]}})}),function(e,t){return P.apply(this,arguments)}),tE=(Z=(0,r.Z)(function(e,t){var n,r;return(0,a.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,_.wU.GetProcessUser(e,t)];case 1:return[2,n.sent()];case 2:return r=n.sent(),(0,A.Uw)(r.message),ed(!1),[3,3];case 3:return[2]}})}),function(e,t){return Z.apply(this,arguments)}),tR=(B=(0,r.Z)(function(e,t){var n,r,o;return(0,a.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),n={teacherIntCode:[th],responsibleIntCode:th,ocurrenceId:e,userIntCode:th,classroomIntCode:[t],stationIntCode:[""]},[4,_.wU.UpdateClassroomReservation(n)];case 1:return[2,r.sent()];case 2:return o=r.sent(),(0,A.Uw)(o.message),ed(!1),[3,3];case 3:return[2]}})}),function(e,t){return B.apply(this,arguments)}),tA=(F=(0,r.Z)(function(e,t){var n,r;return(0,a.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),ed(!0),[4,_.wU.ClasEnabledBookingCodeRooms(e,e,t)];case 1:return n=a.sent(),ed(!1),[2,n];case 2:return r=a.sent(),(0,A.Uw)(r.message),ed(!1),[3,3];case 3:return[2]}})}),function(e,t){return F.apply(this,arguments)}),tT=(M=(0,r.Z)(function(e){var t,n,r;return(0,a.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t={userIntCode:th,ocurrences:[e]},[4,_.wU.DeleteBooking(t)];case 1:return[2,n.sent()];case 2:return r=n.sent(),(0,A.Uw)(r.message),ed(!1),[3,3];case 3:return[2]}})}),function(e){return M.apply(this,arguments)}),tL=function(e,t){e=D()(new Date(e)).format("DD/MM/yyyy"),t=D()(t).format("DD/MM/yyyy"),e<t?en({viewtextDate:"Fecha propuesta para adelanto:",viewtextHour:"Horario a adelantar:",viewtextHourList:"Hora propuesta para adelanto:",viewtext:"Hora fin para adelanto:"}):en({viewtextDate:"Fecha propuesta para recuperaci\xf3n:",viewtextHour:"Horario a recuperar:",viewtextHourList:"Hora propuesta para recuperaci\xf3n:",viewtext:"Hora fin para recuperaci\xf3n:"})},tU=(O=(0,r.Z)(function(e){return(0,a.__generator)(this,function(t){switch(t.label){case 0:if(!(void 0!==e))return[3,2];return[4,tg(e.aulId,e.sede,e.dateRecuperation,e.hour,e.nroHours)];case 1:case 3:return[2,t.sent()];case 2:return[4,tg(e.aula,e.sede,e.dateRecuperation,e.hour,e.nroHours)];case 4:return[2]}})}),function(e){return O.apply(this,arguments)}),tj=function(e,t){!0===t?t2(4,e):t2(3,e)},tS=function(e){var t=e.target.value;eI(t),tF(t),tc(!0)},tP=function(e){var t="";if(void 0!==ej){var n=ej.find(function(t){return t.classroomCode===e});void 0!==n&&(t="        * Capacidad : ".concat(null==n?void 0:n.capacity," Personas\n      * Ubicaci\xf3n : ").concat(null==n?void 0:n.classroomCode[1],' Piso, Pab "').concat(null==n?void 0:n.classroomCode[0],'"\n      * Campus    : ').concat(null==n?void 0:n.campusName,"\n      * Lugar     : ").concat(null==n?void 0:n.classroomName))}return t},tZ=function(e){var t="";switch(e){case"I":t="Pendiente",eV({btnUpdate:!1,btnAnular:!1});break;case"P":t="Programada",eV({btnUpdate:!0,btnAnular:!0});break;case"E":t="Ejecutada",eV({btnUpdate:!0,btnAnular:!0});break;case"A":t="Anulada",eV({btnUpdate:!0,btnAnular:!0})}"P"===e&&t2(6),eX(t)},tB=function(e){""!==e&&("RM"===e||"VT"===e)?eB(!1):eB(!0)},tF=function(e){tt("0");var t=!1,n="";eE.length>0&&(n=tX(e,1),void 0!==eE.find(function(e){return tX(e.date,2)===n})&&(t=!0)),t?(t2(0),eV({btnUpdate:!0,btnAnular:!0})):(eV({btnUpdate:!1,btnAnular:!0}),t1(e))},tM=function(e,t){if(void 0!==e&&(n=e.aula,void 0!==(r=t.find(function(e){return e.classroomCode===n})))){var n,r,a="        * Capacidad : ".concat(null==r?void 0:r.capacity," Personas\n        * Ubicaci\xf3n : ").concat(null==r?void 0:r.classroomCode[1],' Piso, Pab "').concat(null==r?void 0:r.classroomCode[0],'"\n        * Campus    : ').concat(null==r?void 0:r.campusName,"\n        * Lugar     : ").concat(null==r?void 0:r.classroomName);tt(null==r?void 0:r.classroomCode),eO(a)}},tO=function(e,t,n,r,a,o,s,c){!0===e.status?tw(t,n,r,a,o,s,c,"","",""):t2(3,"Error al actualizar el aula")},tk=function(e){var t=e.split("T"),n="".concat(t[0]," ").concat(t[1]);return D()(n).format("HH:mm")},tY=function(e){var t="";return e.indexOf("UPNEXCEPTION:")>-1?e.slice(e.indexOf("UPNEXCEPTION:")+13).trim():e},tV=function(e){var t=e.split("T"),n="".concat(t[0]," ").concat(t[1]),r=new Date(n);return D()(r).format("YYYY-DD-MM")},tK=function(e,t){var n,r=e.split("T"),a="".concat(r[0]).split("-");return 1===t?"".concat(a[2],"/").concat(a[1],"/").concat(a[0]):"".concat(a[0],"-").concat(a[1],"-").concat(a[2])},tG=function(e,t){var n=parseInt((e=e.trim().split("-"))[2])+1,r="".concat(t[0].trim(),":").concat(t[1].trim(),":00");return e="".concat(e[0],"-").concat(e[1],"-").concat(n,"T").concat(r)},tX=function(e,t){if(1===t){var n=e.split("-");return"".concat(n[2],"/").concat(n[1],"/").concat(n[0])}var r=new Date(e);return D()(r).format("DD/MM/YYYY")},tq=function(e){var t=e.split("/");return t="".concat(t[2],"-").concat(t[1],"-").concat(t[0]),new Date(t)},tW=function(e){var t=e.split(":");return""!==e?parseInt(t[0])>=12?"".concat(e," PM"):"".concat(e," AM"):""},tz=function(){(0,R.X0)("/recuperar-adelantar",ed),(0,g.remove)(w.Tx)},tJ=function(e,t,n){if(void 0!==e){var r=e.find(function(e){return e.HorInicioDesc===n});if(void 0!==r){var a=parseInt(r.HorCodigo)+(parseInt(t.NroHoras)-1),o=e.find(function(e){return e.HorCodigo===a});if(void 0!==o){var s=new Date(o.HorFinal),c=D()(s).format("HH:mm");eC(c)}else eC("")}}},tQ=function(e){var t=e.target.value;ez(t=t.replace(":",".").replace("PM","").replace("AM","")),tJ(ef,ea,t),t1(e_,t,1)},t$=(k=(0,r.Z)(function(){var e,t,n,r,o,s,c,i,u,l,d,p,f,h,m,v;return(0,a.__generator)(this,function(a){switch(a.label){case 0:if(e=" ",t=0,""!==td.ClaMetodoEducativo?"RM"===td.ClaMetodoEducativo||"VT"===td.ClaMetodoEducativo?e="":void 0!==(n=ej.find(function(e){return e.classroomCode===te}))&&(e=n.classroomCode,n.classroomId):void 0!==(r=ej.find(function(e){return e.classroomCode===te}))&&(e=r.classroomCode,r.classroomId),o=tq(Q.dateLost),c=ef.find(function(e){return e.HorInicioDesc===eW}).HorCodigo,i=ea.NroHoras,l=tG(e_,eW.split(".")),d=new Date(l),p=new Date,d<=p&&(t2(1),t=1),!1===eb&&(t2(2),t=1),""===ev&&(t2(7),t=1),!1===e4&&!1===ts&&(t2(8),t=1),""===e_&&(t2(8),t=1),f=tf,0!==t)return[3,3];if(!0!==eZ)return[3,2];return e_.split("T")[0].replace("-","").replace("-",""),m=ej.find(function(e){return e.classroomCode===te}),[4,tR(td.OcurrenceId,m.classroomIntCode)];case 1:return tO(a.sent(),td.RecuperacionId,o,e_,c,i,e,f),[3,3];case 2:return[2,tw(td.RecuperacionId,o,e_,c,i,e,f,"","","")];case 3:return[2]}})}),function(){return k.apply(this,arguments)}),t0=function(e){var t=e.target.value,n=tP(t);tt(t),eO(n),eB(!0),e$(t)},t1=function(e,t,n){if(""!==e){var r=Q.sede;if(void 0!==ea){var a=ea.NroHoras,o="";1===n?o=t:(o=eW,e+="T00:00:00"),tg("null",r,e,ef.find(function(e){return e.HorInicioDesc===o}).HorCodigo,a.toString())}}},t3=(Y=(0,r.Z)(function(){var e;return(0,a.__generator)(this,function(e){switch(e.label){case 0:if(ed(!0),!0!==eZ)return[3,6];return[4,tT(td.OcurrenceId)];case 1:if(!0!==e.sent().status)return[3,4];return[4,t_(eH)];case 2:return e.sent(),[4,t5()];case 3:return e.sent(),t2(5),ed(!1),(0,R.X0)("/recuperar-adelantar",ed),[3,5];case 4:t2(3,"No se pudo anular la solicitud"),e.label=5;case 5:return[3,9];case 6:return[4,t_(eH)];case 7:return e.sent(),[4,t5()];case 8:e.sent(),t2(5),ed(!1),(0,R.X0)("/recuperar-adelantar",ed),e.label=9;case 9:return[2]}})}),function(){return Y.apply(this,arguments)}),t2=function(e,t){switch(e){case 0:return N().fire({title:"Portal de Docentes",text:"Ha escogido como fecha requerida un feriado",icon:"warning",showCancelButton:!1,confirmButtonColor:"#3085d6",confirmButtonText:"OK"});case 1:return N().fire({title:"Portal de Docentes",text:"La fecha seleccionada no puede ser inferior a la actual",icon:"warning",showCancelButton:!1,confirmButtonColor:"#3085d6",confirmButtonText:"OK"});case 2:return N().fire({title:"Portal de Docentes",text:"Debe ACEPTAR los T\xc9RMINOS Y CONDICIONES para continuar!.",icon:"warning",showCancelButton:!1,confirmButtonColor:"#3085d6",confirmButtonText:"OK"});case 3:return N().fire({title:"Portal de Docentes",text:"".concat(t),icon:"error",showCancelButton:!1,confirmButtonColor:"#3085d6",confirmButtonText:"OK"});case 4:return N().fire({title:"Portal de Docentes",text:"".concat(t),icon:"success",showCancelButton:!1,confirmButtonColor:"#3085d6",confirmButtonText:"OK"});case 5:return N().fire({title:"Portal de Docentes",text:"Se anul\xf3 correctamente la recuperaci\xf3n de clase.",icon:"success",showCancelButton:!1,confirmButtonColor:"#3085d6",confirmButtonText:"OK"});case 6:return N().fire({title:"Portal de Docentes",text:"Las solicitudes con estado programado, no se pueden anular",icon:"warning",showCancelButton:!1,confirmButtonColor:"#3085d6",confirmButtonText:"OK"});case 7:return N().fire({title:"Portal de Docentes",text:"No exite una hora final para recuperar la clase, seleccione otra hora propuesta para recuperaci\xf3n",icon:"warning",showCancelButton:!1,confirmButtonColor:"#3085d6",confirmButtonText:"OK"});case 8:return N().fire({title:"Portal de Docentes",text:"Debe seleccionar una fecha para la recuperaci\xf3n",icon:"warning",showCancelButton:!1,confirmButtonColor:"#3085d6",confirmButtonText:"OK"})}},t4=function(e,t){var n=e.find(function(e){return e.HorCodigo===t.hour});return e9(n.HorInicioDesc),ez(n.HorInicioDesc),n.HorInicioDesc},t5=(V=(0,r.Z)(function(){var e,t,n,r,o,s,c,i,u,l,d,p,f,h,m,v,C,x,b,g,w,_,I;return(0,a.__generator)(this,function(a){switch(a.label){case 0:return[4,tI(tf)];case 1:if(!(void 0!==(e=a.sent())))return[3,11];return"".concat(e.lastName," ").concat(e.middleLastName,", ").concat(e.name),t=Q.coruseId,n=ea.ClaCodigo,r=Q.carId,o=Q.sede,s=new Date(Q.dateLost),i="A"==((c=new Date(e_))<s?"A":"R")?"adelanto":"recuperaci\xf3n",u="La solicitud de ".concat(i," de la clase ").concat(t," - ").concat(n," ha sido ANULADA"),[4,tD(n)];case 2:return d=a.sent().TeacherCode,[4,tH(td.CodSol)];case 3:if(f=a.sent().email,(h=[]).push(f),!(d!==td.CodSol))return[3,5];return[4,tH(d)];case 4:v=a.sent().email,h.push(v),a.label=5;case 5:return[4,t8({ListDestinatarios:h,DisplayName:"UPN Docentes",Asunto:"Portal Docentes - ".concat(i,"  de clase"),Body:u,IsHtml:!1,ListResponderA:h,TipoNotificacion:"1",EncolarEnvio:!0})];case 6:return a.sent(),x=[],[4,tN(r,o)];case 7:return a.sent().map(function(e){return x.push(e.emailUPN)}),[4,t8({ListDestinatarios:x,DisplayName:"UPN Docentes",Asunto:"Portal Docentes - ".concat(i,"  de clase"),Body:u,IsHtml:!1,ListResponderA:f,TipoNotificacion:"1",EncolarEnvio:!0})];case 8:return a.sent(),w=[],[4,tE(r,o)];case 9:return a.sent().map(function(e){return w.push(e.s_proale_email)}),[4,t8({ListDestinatarios:w,DisplayName:"UPN Docentes",Asunto:"Portal Docentes - ".concat(i,"  de clase"),Body:u,IsHtml:!1,ListResponderA:f,TipoNotificacion:"1",EncolarEnvio:!0})];case 10:a.sent(),a.label=11;case 11:return[2]}})}),function(){return V.apply(this,arguments)}),t6=(K=(0,r.Z)(function(){var e,t,n,r,o,s,c,i,u,l,d,p,f,h,m,v,C,x,b,g,w,_,I,D,H,y,N,E,R;return(0,a.__generator)(this,function(a){switch(a.label){case 0:return[4,tI(tf)];case 1:if(!(void 0!==(e=a.sent())))return[3,9];return t="".concat(e.lastName," ").concat(e.middleLastName,", ").concat(e.name),n=Q.coruseId,r=ea.ClaCodigo,o=Q.carId,ea.NroHoras,s=Q.sede,c=new Date(Q.dateLost),u="A"==((i=new Date(e_))<c?"A":"R")?"adelanto":"recuperaci\xf3n",p=ef.find(function(e){return e.HorInicioDesc===eW}).HorCodigo,ef.length>0&&(f=ef.find(function(e){return e.HorCodigo===p})).length>0&&(l=new Date(f.HorFinal)),""!==td.ClaMetodoEducativo&&("RM"===td.ClaMetodoEducativo||"VT"===td.ClaMetodoEducativo)?(m="Aula: Remoto/Virtual",v="Aula: Remoto/Virtual"):(m="Aula: ".concat(eQ),v="Aula: ".concat(eQ)),C=" <div>\n          <p>Estimado docente: ".concat(t,"</p>\n          <br/>\n          <p>Su clase ").concat(n," - ").concat(r,"  ha sido RE-PROGRAMADA</p>\n          <br/>\n          <p>Fecha de ").concat(u,": ").concat(e_,"</p>\n          <br/>\n          <p>Hora de ").concat(u,": ").concat(l,"</p>\n          <br/>\n          <p>").concat(m,"</p>\n          </div>"),x=" <div>\n          <p>El docente: ".concat(t,"</p>\n          <br/>\n          <p>Ha RE-PROGRAMADO la clase ").concat(n," - ").concat(r,"</p>\n          <br/>\n          <p>Fecha de ").concat(u,": ").concat(e_,"</p>\n          <br/>\n          <p>Hora de ").concat(u,": ").concat(l,"</p>\n          <br/>\n          <p>").concat(v,"</p>\n          </div>"),[4,tD(r)];case 2:return g=a.sent().TeacherCode,[4,tH(td.CodSol)];case 3:if(_=a.sent().email,(I=[]).push(_),!(g!==td.CodSol))return[3,5];return[4,tH(g)];case 4:H=a.sent().email,I.push(H),a.label=5;case 5:return[4,t8({ListDestinatarios:I,DisplayName:"UPN Docentes",Asunto:"Portal Docentes - ".concat(u,"  de clase"),Body:C,IsHtml:!1,ListResponderA:I,TipoNotificacion:"1",EncolarEnvio:!0})];case 6:return a.sent(),N=[],[4,tE(o,s)];case 7:return a.sent().map(function(e){return N.push(e.s_proale_email)}),[4,t8({ListDestinatarios:N,DisplayName:"UPN Docentes",Asunto:"Portal Docentes - ".concat(u,"  de clase"),Body:x,IsHtml:!1,ListResponderA:_,TipoNotificacion:"1",EncolarEnvio:!0})];case 8:a.sent(),a.label=9;case 9:return[2]}})}),function(){return K.apply(this,arguments)}),t8=(G=(0,r.Z)(function(e){var t,n;return(0,a.__generator)(this,function(t){switch(t.label){case 0:return"dev"==("producci\xf3n"===L.env.PRODUCCION_EMAIL?"prod":"dev")&&(n=["david.cotrina@upn.edu.pe"],e.ListDestinatarios=""===e.ListDestinatarios?e.ListDestinatarios:n,e.ListResponderA=""===e.ListResponderA?e.ListResponderA:n,e.ListCC=""===e.ListCC?e.ListCC:n,e.ListBCC=""===e.ListBCC?e.ListBCC:n),[4,ty(e)];case 1:return[2,t.sent()]}})}),function(e){return G.apply(this,arguments)}),t9=function(e,t,n){eo({AulCodigo:t[0].AulCodigo,CarCodigo:t[0].AulCodigo,ClaCodigo:t[0].ClaCodigo,ClaseTipo:t[0].ClaseTipo,CurCodigo:t[0].CurCodigo,Fecha:t[0].Fecha,HoraIdFin:t[0].HoraIdFin,HoraIdInicio:t[0].HoraIdInicio,HorCodigoFin:t[0].HorCodigoFin,HorCodigoInicio:t[0].HorCodigoInicio,HorDia:t[0].HorDia,HorFin:tk(t[0].HorFin),HorInicio:tk(t[0].HorInicio),HorMinutosFin:t[0].HorMinutosFin,HorMinutosInicio:t[0].HorMinutosInicio,HorNroSesion:t[0].HorNroSesion,NroHoras:t[0].NroHoras,SemestreId:t[0].SemestreId,TipoDocente:t[0].TipoDocente,TraCodigo:t[0].TraCodigo}),tJ(e,t[0],n)};return(0,s.useEffect)(function(){var e,t=(e=(0,r.Z)(function(){var e,t,r,o,s,c,i,u,l,d,p,f,h;return(0,a.__generator)(this,function(a){switch(a.label){case 0:ed(!0),ey(n),a.label=1;case 1:return a.trys.push([1,9,,10]),[4,tx()];case 2:return t=(e=a.sent()).LaboratoriesData,e.dataFormated,[4,tv(n)];case 3:return o=(r=a.sent()).semester,s=r.dateLost,c=r.sede,[4,tC(td.ClaCodigo,o,tV(s),td.CodSol)];case 4:return i=a.sent(),[4,t4(t,r)];case 5:return u=a.sent(),i.length>0&&t9(t,i.filter(function(e){return(null==e?void 0:e.HoraIdInicio)===(null==r?void 0:r.hourIdProgramationIni)}),u),[4,tb(c)];case 6:return a.sent(),[4,tU(r)];case 7:return tM(r,a.sent()),tZ(r.state),tB(td.ClaMetodoEducativo),[4,tA((0,r.dateRecuperation).split("T")[0].replace("-","").replace("-",""),td.BookingId)];case 8:return(f=a.sent()).length>0&&tl(null===f[0].description||void 0===f[0].description?"":f[0].description),[3,10];case 9:return h=a.sent(),(0,A.Uw)(h.message),ed(!1),[3,10];case 10:return ed(!1),[2]}})}),function(){return e.apply(this,arguments)}),n=null==td?void 0:td.RecuperacionId;void 0!==td&&t()},[]),(0,o.jsxs)("div",{className:b().contenido,children:[(0,o.jsx)(H.Z,{loading:el}),(0,o.jsxs)("div",{className:b().content,children:[(0,o.jsx)("div",{className:b().titulo,children:(0,o.jsx)(i.Z,{classname:"text-warning h5 mt-3 mb-3",children:"Recuperar/Adelantar clases"})}),(0,o.jsx)("div",{className:b().titulo,children:(0,o.jsx)(i.Z,{classname:"text-black h6 mt-3 mb-3",children:"Editar solicitud"})}),(0,o.jsx)("div",{className:"".concat(b().tabla),children:(0,o.jsxs)(C,{classname:"".concat(b().formaterTabla," "),children:[(0,o.jsx)(d.default,{children:["Clase","Curso","Semestre","Sede","Carrera"].map(function(e,t){return(0,o.jsx)("th",{children:e},t)})}),(0,o.jsx)(l.default,{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:ea.ClaCodigo}),(0,o.jsx)("td",{children:Q.course}),(0,o.jsx)("td",{children:Q.semester}),(0,o.jsx)("td",{children:Q.sede}),(0,o.jsx)("td",{children:Q.carrer})]})})]})}),(0,o.jsxs)("div",{className:b().blocFormValidateRow,children:[(0,o.jsxs)(i.Z,{children:["N\xfamero de solicitud: ",Q.nroRequest]}),(0,o.jsxs)(i.Z,{children:["Estado de la solicitud: ",eG]})]}),(0,o.jsx)("br",{}),(0,o.jsxs)("div",{className:b().blocFormValidateRow,children:[(0,o.jsx)(p.Z,{disabled:!0,texLabel:"Fecha de clase perdida",typeInput:"text",nameInput:"",idInput:"",value:Q.dateLost,index:1,readOnly:!0}),!0===e4?(0,o.jsx)(p.Z,{texLabel:et.viewtextDate,typeInput:"date",nameInput:"",idInput:"",value:Q.dateRecuperation,onClick:function(){return e5(!1)},index:3}):(0,o.jsx)(p.Z,{texLabel:et.viewtextDate,typeInput:"date",nameInput:"",idInput:"",Onchange:tS,min:!0===tr?(tm.setDate(tm.getDate()+1),X=tm.toDateString(),q=new Date(X),D()(q).format("YYYY-MM-DD")):"",onClick:function(){return ta(!0)},max:!0===tr?(tm.setDate(tm.getDate()+60),W=tm.toDateString(),z=new Date(W),D()(z).format("YYYY-MM-DD")):"",index:2})]}),(0,o.jsx)("br",{}),(0,o.jsx)("div",{className:b().blocFormValidateRowTable,children:(0,o.jsx)(h.Z,{textLabel:et.viewtextHour,theadColums:["Hora Inicio","Hora Fin","Horas"],tbodyRows:[tW(ea.HorInicio),tW(ea.HorFin),ea.NroHoras,]})}),(0,o.jsx)("br",{}),(0,o.jsxs)("div",{className:b().blocFormValidateRow,children:[!0===e1?(0,o.jsx)(f.Z,{texLabel:et.viewtextHourList,optionSelect:ec,index:0,onChange:function(){return e3(!1)},onClick:function(){return e3(!1)},value:e8,consult:3}):(0,o.jsx)(f.Z,{texLabel:et.viewtextHourList,optionSelect:ec,index:0,onChange:tQ}),(0,o.jsx)(p.Z,{texLabel:et.viewtext,typeInput:"text",nameInput:"",idInput:"",value:tW(ev),index:1,placeholder:" ",readOnly:!0})]}),!0===eZ?(0,o.jsxs)("div",{children:[(0,o.jsx)("br",{}),(0,o.jsxs)("div",{className:b().blocFormValidateRow,children:[(0,o.jsx)(f.Z,{texLabel:"Aula:",optionSelect:eT,index:0,onChange:t0,consult:4,value:te}),(0,o.jsx)(E.Z,{texLabel:"Caracteristicas del ambiente:",disabled:!0,placeholder:" ",value:eM,style:{height:"3em",paddingTop:"7px"}})]}),(0,o.jsxs)("div",{className:b().TexareaConten,children:[(0,o.jsx)(i.Z,{children:"Descripci\xf3n"}),(0,o.jsx)(T.Z,{type:"textarea",placeholder:"",controlId:"",disabled:!0,classname:"",value:tu,style:{paddingTop:"7px"}})]}),(0,o.jsx)("br",{})]}):null,(0,o.jsx)("br",{}),(0,o.jsx)("div",{children:(0,o.jsx)("b",{children:(0,o.jsx)(u.Z,{type:"checkbox",id:"default",name:"check",value:"Acepto los t\xe9rminos y condiciones correspondientes al proceso CONTROL DE RECUPERACI\xd3N Y ADELANTO DE CLASES.",disabled:!1,onclick:function(){return eg(!eb)}})})}),(0,o.jsxs)("div",{className:b().botonesAlign,children:[(0,o.jsx)("div",{children:(0,o.jsx)(c.Z,{classname:b().btnresponsive,type:"button",variant:"primary",onclick:t$,disabled:eY.btnUpdate,children:"Guardar Solicitud"})}),(0,o.jsx)("div",{children:(0,o.jsx)(c.Z,{classname:b().btnresponsive,type:"button",variant:"danger",disabled:eY.btnAnular,onclick:t3,children:"Anular Solicitud"})}),(0,o.jsx)("div",{children:(0,o.jsx)(c.Z,{type:"button",variant:"secondary",onclick:tz,children:"Cancelar"})})]})]})]})};U.title="Recuperar/Adelantar clases";var j=U},64941:function(e){e.exports={header:"Editar_header__lTvkA",content:"Editar_content__lXyOj",title:"Editar_title__b9fFi",headerContent:"Editar_headerContent___I_86",navbr:"Editar_navbr__M6nrF",contenido:"Editar_contenido__w6ge3",titulo:"Editar_titulo__O0Wim",rowButtons:"Editar_rowButtons__apvBg",tabla:"Editar_tabla__jeyUi",formaterTabla:"Editar_formaterTabla__bhPiU",blocFormValidateRow:"Editar_blocFormValidateRow__Kpg11",blocFormValidateRowTable:"Editar_blocFormValidateRowTable__oMNQZ",botonesAlign:"Editar_botonesAlign__qYdA_",btnresponsive:"Editar_btnresponsive__06Cx5",TexareaConten:"Editar_TexareaConten__8z6hA",footer:"Editar_footer__DVRWK",contentFooter:"Editar_contentFooter__Wvm8v"}}},function(e){e.O(0,[4885,6006,3192,9774,2888,179],function(){return e(e.s=11588)}),_N_E=e.O()}]);