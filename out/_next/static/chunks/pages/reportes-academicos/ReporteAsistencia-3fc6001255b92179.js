(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[173,3242],{27173:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reportes-academicos/ReporteAsistencia",function(){return a(85972)}])},1479:function(e,t,a){"use strict";var o=a(85893),n=a(83461),r=function(e){var t=e.children,a=e.data,r=e.headers,i=e.filename;return(0,o.jsx)(n.CSVLink,{data:void 0===a?[]:a,headers:void 0===r?[]:r,filename:void 0===i?"medium.csv":i,separator:";",children:void 0===t?"Guardar":t})};t.Z=r},84555:function(e,t,a){"use strict";var o=a(85893),n=a(94184),r=a.n(n),i=a(72169),s=a.n(i),l=a(95821),d=s(),c=function(e){var t=e.children,a=e.type,n=e.classname,i=e.variant,c=e.size,u=e.disabled,f=e.onclick,m=e.name,h="btn-".concat(void 0===i?"btn-default":i),p=r()("btn",h,(0,l.IO)(s(),void 0===n?"":n),d[void 0===c?"medium":c]);return(0,o.jsx)("button",{name:m,type:void 0===a?"button":a,className:p,onClick:f,disabled:void 0!==u&&u,children:void 0===t?"Guardar":t})};t.Z=c},57870:function(e,t,a){"use strict";var o=a(85893),n=a(94184),r=a.n(n),i=a(15605),s=a.n(i)(),l=function(e){var t=e.classname,a=void 0===t?"":t,n=e.children,i=e.idFor,l=r()(s[a]?s[a]:a);return(0,o.jsx)("label",{htmlFor:i,className:l,children:void 0===n?"label text":n})};t.Z=l},14143:function(e,t,a){"use strict";var o=a(85893),n=a(94184),r=a.n(n),i=a(68258),s=a(95821),l=a(54740),d=a.n(l),c=function(e){var t=e.id,a=e.classname,n=e.name,l=e.value,c=e.disabled,u=e.children,f=e.onChange,m=e.defaultValue,h=e.onClick,p=r()("form-control",(0,s.IO)(d(),void 0===a?"":a));return(0,o.jsx)(i.Z.Select,{id:t,className:p,name:n,disabled:void 0!==c&&c,value:l,onChange:f,defaultValue:m,onClick:h,children:u})};t.Z=c},1049:function(e,t,a){"use strict";var o=a(34727),n=a(70655),r=a(85893),i=a(67294),s=a(68258),l=a(84555),d=a(14143),c=a(1479),u=a(68289),f=a.n(u),m=function(e){var t,a=(0,i.useState)(!0),u=a[0],m=a[1],h=(0,i.useState)("0"),p=h[0],b=h[1],x=(t=(0,o.Z)(function(e){return(0,n.__generator)(this,function(t){return m(!1),"0"===e.target.value&&m(!0),b(e.target.value),[2]})}),function(e){return t.apply(this,arguments)});return(0,r.jsx)("div",{children:(0,r.jsx)(s.Z,{children:(0,r.jsxs)("div",{className:"".concat(f().responsivebtns," row"),children:[(0,r.jsx)("div",{style:null!==e.width?{width:e.width}:void 0,className:"".concat(f().selectInput," col-sm-12 col-md-2"),children:(0,r.jsxs)(d.Z,{id:"formato",classname:"primary",name:"formato",onChange:x,children:[(0,r.jsx)("option",{value:0,children:"Seleccione Formato"}),(0,r.jsx)("option",{value:1,children:"Microsoft Excel"}),(0,r.jsx)("option",{value:2,children:"Adobe Reader (PDF)"})]})}),(0,r.jsxs)("div",{className:"col-sm-12 col-md-2",style:{display:"flex",gap:"10%"},children:["1"===p?(0,r.jsx)(c.Z,{data:e.data,headers:e.COLUMNS,filename:e.nameXLS,children:(0,r.jsx)(l.Z,{type:"button",variant:"primary",disabled:u,children:"Exportar"})}):(0,r.jsx)(l.Z,{type:"button",variant:"primary",disabled:u,onclick:function(){return e.callReportPDF()},children:"Exportar"}),(0,r.jsx)(l.Z,{type:"button",variant:"primary",disabled:!1,onclick:function(){return e.callReportToReturn()},children:"Regresar"})]})]})})})};t.Z=m},63242:function(e,t,a){"use strict";a.r(t);var o=a(85893);a(67294);var n=function(e){var t=e.children;return(0,o.jsx)("tbody",{children:t})};t.default=n},24481:function(e,t,a){"use strict";var o=a(85893);a(67294);var n=a(17294),r=a.n(n),i=a(75147),s=a(95821),l=function(e){var t=e.children,a=e.classname,n=e.stripe,l=(0,s.IO)(r(),void 0===a?"":a);return(0,o.jsx)(i.Z,{striped:void 0===n||n,className:"".concat(l," ").concat(r().tablaDefault),children:t})};t.Z=l},29907:function(e,t,a){"use strict";var o,n=a(34727),r=a(70655),i=a(91819),s=a(30381),l=a.n(s),d=a(18159),c=a.n(d),u=(o=(0,n.Z)(function(e){var t,a,o,n,s,d,u,f,m,h,p,b,x,v;return(0,r.__generator)(this,function(r){return t=e.head,a=e.body,o=e.name,n=e.Information,s=e.Docente,d=e.NameRepote,u=e.RouteImage,(f=new i.default).setFontSize(40),m=15,h=30,null!==u&&((p=new Image).src=u,f.addImage(p,"png",9,15,65,20)),f.setFontSize(14),"Asistencia"===d&&(h-=5,m+=108,f.text("Reporte de "+d+" por Clase",m,h)),"Notas"===d&&(h-=5,m+=118,f.text("Reporte de "+d+" por Clase",m,h)),"Clases: Resultados y Estad\xedsticas"===d&&(h-=5,m+=56,f.text("Reporte de "+d+" por Clase",m,h)),"evaluaci\xf3n de competencias"===d&&(h-=5,m+=68,f.text("Reporte de "+d+" por Clase",m,h)),f.setFontSize(8),h+=5,m-=m,m=144,b=new Date,x=l()(b).format("DD/MM/YYYY HH:mm:ss"),f.text("Fecha de emisi\xf3n: "+x,m,h),h+=5,m+=35,v=f.getNumberOfPages(),f.text("P\xe1g. "+v+" de "+v,m,h),f.setFontSize(8),h+=10,m-=m,m=15,f.text("Semestre / Sede",m,h),f.setFontSize(6),m+=25,f.text(n.SemCodigo+"     "+n.SedCodigo,m,h),f.setFontSize(8),h+=5,m-=25,f.text("Clase",m,h),f.setFontSize(6),m+=25,f.text(n.ClaCodigo,m,h),f.setFontSize(8),m+=20,"Asistencia"===d?(f.text("Tope de faltas ",m,h),f.setFontSize(6),m+=25,f.text(n.ClaTopeFaltas,m,h)):m+=25,f.setFontSize(8),m-=70,h+=5,f.text("Curso",m,h),f.setFontSize(6),m+=25,f.text(n.CurCodigo+"   "+n.CurNombre,m,h),f.setFontSize(8),m-=25,h+=5,f.text("Docente",m,h),f.setFontSize(6),m+=25,f.text(s,m,h),f.line(15,65,195,65),c()(f,{head:t,body:a,didDrawCell:function(e){},startY:65,bodyStyles:{fontSize:7,halign:"center"},headStyles:{fillColor:"white",textColor:"black",fontSize:7,halign:"center"}}),f.save(o),[2]})}),function(e){return o.apply(this,arguments)});t.Z=u},85972:function(e,t,a){"use strict";a.r(t);var o=a(34727),n=a(14251),r=a(52875),i=a(70655),s=a(85893),l=a(63242),d=a(24481),c=a(5935),u=a.n(c),f=a(57870),m=a(67294),h=a(98521),p=a(42222),b=a(69706),x=a(1049),v=a(5152),C=a.n(v),g=a(44020),_=a(27201),y=a(29907),j=a(95821),N=C()(function(){return Promise.all([a.e(1427),a.e(8072),a.e(5489)]).then(a.bind(a,14146))},{loadableGenerated:{webpack:function(){return[14146]}},ssr:!1}),S=function(){var e,t,a=(0,m.useState)(!1),c=a[0],v=a[1],C=(0,m.useState)({CurCodigo:"",CurNombre:"",ClaCodigo:"",CarNombre:"",SedCodigo:"",SemCodigo:"",TipoDoc:"",ClaseFull:"",ClaTopeFaltas:0,CarCodigo:"",ClaTipo:"",AplicaCompetencia:"",ClaMetodoEducativo:""}),S=C[0],R=C[1],Z=(0,m.useState)([]),F=Z[0],w=Z[1],A=(0,m.useState)(!1),E=A[0],k=A[1],T=(0,m.useState)(""),D=T[0],I=T[1],$=JSON.parse((0,p.get)(b.V2)),z=(0,p.get)(b.Pg),O=(0,p.get)(b.EG),P="RptAsistencia_".concat(S.ClaCodigo,".csv"),M=(0,p.get)(b.x6),H=[["C\xf3digo","Apellidos y Nombres","Carrera","Ciclo","Vez","Faltas","Estado","F.Retiro","F.Inhab",],],L=(e=(0,o.Z)(function(e){var t;return(0,i.__generator)(this,function(t){switch(t.label){case 0:return[4,h.rE.listClassAttendance(e)];case 1:return[2,t.sent()]}})}),function(t){return e.apply(this,arguments)}),V=function(){(0,p.remove)(b.Pg),(0,p.remove)(b.V2),window.location.href="/reportes-academicos"},W=function(){return k(!1)},B=function(e){k(!0),I(e)},U=function(e,t){var a;t(e.map(function(e,t){return(0,r.Z)((0,n.Z)({},e),{Image:(0,s.jsx)("img",{onClick:function(){return B(e.image)},src:e.image,alt:"Foto de alumnos",width:20,height:20})})}))},Y=(t=(0,o.Z)(function(){var e;return(0,i.__generator)(this,function(t){var a;return v(!0),e={head:H,body:(a=F,null==a?void 0:a.map(function(e){return[e.studentId,e.fullName,e.carrName,e.cicle,e.cantVeces,e.faults,e.state,e.retire,e.endHabilitaded,]})),name:"RptAsistencia_".concat(S.ClaCodigo,".pdf"),Information:S,Docente:(null==O?void 0:O.lastName)+" "+(null==O?void 0:O.middleLastName)+", "+(null==O?void 0:O.name),NameRepote:"Asistencia",RouteImage:M},(0,y.Z)(e),v(!1),[2]})}),function(){return t.apply(this,arguments)});return(0,m.useEffect)(function(){var e;(e=(0,o.Z)(function(){var e,t;return(0,i.__generator)(this,function(e){switch(e.label){case 0:v(!0),R({CurCodigo:$.CurCodigo,CurNombre:$.CurNombre,ClaCodigo:$.ClaCodigo,CarNombre:$.CarNombre,SedCodigo:$.SedCodigo,SemCodigo:$.SemCodigo,TipoDoc:$.TipoDoc,ClaseFull:$.ClaseFull,ClaTopeFaltas:$.ClaTopeFaltas,CarCodigo:$.CarCodigo,ClaTipo:$.ClaTipo,AplicaCompetencia:$.AplicaCompetencia,ClaMetodoEducativo:$.ClaMetodoEducativo}),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,L(z)];case 2:return U(e.sent(),w),[3,4];case 3:return t=e.sent(),(0,j.Uw)(t.message),v(!1),[3,4];case 4:return v(!1),[2]}})}),function(){return e.apply(this,arguments)})()},[]),(0,s.jsxs)("div",{className:u().contenido,children:[(0,s.jsx)("input",{id:"imgBase64",type:"hidden"}),(0,s.jsx)(_.Z,{loading:c}),(0,s.jsxs)("div",{className:u().content,children:[(0,s.jsx)("div",{className:u().titulo,children:(0,s.jsx)(f.Z,{classname:"text-warning h5 mt-3 mb-3",children:"Reporte de asistencia por clase"})}),(0,s.jsx)("hr",{}),(0,s.jsxs)(g.Z,{show:E,onHide:W,children:[(0,s.jsx)(g.Z.Header,{closeButton:!0,children:(0,s.jsx)(g.Z.Title,{children:"Foto del Estudiante"})}),(0,s.jsx)(g.Z.Body,{children:(0,s.jsx)("img",{style:{width:"100%",height:"100%"},src:D,alt:"Foto del estudante"})})]}),(0,s.jsx)("div",{className:u().tablaDetalle,children:(0,s.jsx)(d.Z,{classname:"tablaRA",children:(0,s.jsxs)(l.default,{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:{fontWeight:"bold"},children:"DATOS DE LA CLASE"}),(0,s.jsx)("td",{})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:{fontWeight:"bold"},children:"Semestre"}),(0,s.jsx)("td",{children:void 0!==S?S.SemCodigo:""})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:{fontWeight:"bold"},children:"Sede"}),(0,s.jsx)("td",{children:void 0!==S?S.SedCodigo:""})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:{fontWeight:"bold"},children:"Carrera"}),(0,s.jsx)("td",{children:void 0!==S?S.CarNombre:""})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:{fontWeight:"bold"},children:"C\xf3digo del curso"}),(0,s.jsx)("td",{children:void 0!==S?S.CurCodigo:""})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:{fontWeight:"bold"},children:"Nombre del curso"}),(0,s.jsx)("td",{children:void 0!==S?S.CurNombre:""})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:{fontWeight:"bold"},children:"Clase"}),(0,s.jsx)("td",{children:void 0!==S?S.ClaCodigo:""})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:{fontWeight:"bold"},children:"Tope faltas"}),(0,s.jsx)("td",{children:void 0!==S?S.ClaTopeFaltas:0})]})]})})}),(0,s.jsx)("div",{className:"".concat(u().botones," m-3"),children:(0,s.jsx)(x.Z,{callReportPDF:Y,data:F,COLUMNS:[{label:"C\xf3digo",field:"studentId",key:"studentId",sort:"asc"},{label:"Nombres",field:"fullName",key:"fullName",sort:"asc"},{label:"Carrera",field:"carrName",key:"carrName",sort:"asc"},{label:"Ciclo",field:"cicle",key:"cicle",sort:"asc"},{label:"N\xfamero Vez",field:"cantVeces",key:"cantVeces",sort:"asc"},{label:"Nro Faltas",field:"faults",key:"faults",sort:"asc"},{label:"Estado",field:"state",key:"state",sort:"asc"},{label:"Fecha Inhabilitaci\xf3n",field:"endHabilitaded",key:"endHabilitaded",sort:"asc"},{label:"Fecha Retiro",field:"retire",key:"retire",sort:"asc"},],nameXLS:P,callReportToReturn:V})}),(0,s.jsx)("div",{className:u().tabla,children:(0,s.jsx)(N,{columns:[{label:"C\xf3digo",field:"studentId",sort:"asc"},{label:"Nombres",field:"fullName",sort:"asc"},{label:" ",field:"Image",sort:"asc"},{label:"Carrera",field:"carrName",sort:"asc"},{label:"Ciclo",field:"cicle",sort:"asc"},{label:"N\xfamero Vez",field:"cantVeces",sort:"asc"},{label:"Nro Faltas",field:"faults",sort:"asc"},{label:"Estado",field:"state",sort:"asc"},{label:"Fecha Inhabilitaci\xf3n",field:"endHabilitaded",sort:"asc"},{label:"Fecha Retiro",field:"retire",sort:"asc"},],listData:F})})]})]})};S.title="Reporte de Asistencia - Portal Docentes",t.default=S},72169:function(e){e.exports={small:"button_small__7bbNh",medium:"button_medium__a2eos",large:"button_large__A_BJ0",primary:"button_primary__2xniq",secondary:"button_secondary__3F83R"}},15605:function(){},54740:function(){},68289:function(e){e.exports={responsivebtns:"reportButtons_responsivebtns__X9li0",selectInput:"reportButtons_selectInput__mWZ0y"}},17294:function(e){e.exports={default:"Tabla_default__ybIIM",tablaDefault:"Tabla_tablaDefault__9oIqO",tablaRA:"Tabla_tablaRA__s2Qg1"}},5935:function(e){e.exports={header:"ReporteAsistencia_header__UVzW1",content:"ReporteAsistencia_content__LO4Y4",title:"ReporteAsistencia_title__LhiCx",headerContent:"ReporteAsistencia_headerContent__S6U1U",navbr:"ReporteAsistencia_navbr__GJMPh",contenido:"ReporteAsistencia_contenido__3iTYb",titulo:"ReporteAsistencia_titulo__0f3ET",tabla:"ReporteAsistencia_tabla__dvo_K",tablaDetalle:"ReporteAsistencia_tablaDetalle__55kev",botones:"ReporteAsistencia_botones__UL7ag",row:"ReporteAsistencia_row__vk28q",footer:"ReporteAsistencia_footer__EHcIO",contentFooter:"ReporteAsistencia_contentFooter__JJqgn"}},44020:function(e,t,a){"use strict";a.d(t,{Z:function(){return I}});var o,n=a(94184),r=a.n(n),i=a(47923),s=a(38480),l=a(14709),d=a(74672);function c(e){if((!o&&0!==o||e)&&s.Z){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),o=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return o}var u=a(32092),f=a(78146),m=a(35654),h=a(76852),p=a(27617),b=a(67294),x=a(43282),v=a(47314),C=a(41068),g=a(75528),_=(0,g.Z)("modal-body"),y=a(36467),j=a(76792),N=a(85893);let S=b.forwardRef(({bsPrefix:e,className:t,contentClassName:a,centered:o,size:n,fullscreen:i,children:s,scrollable:l,...d},c)=>{e=(0,j.vE)(e,"modal");let u=`${e}-dialog`,f="string"==typeof i?`${e}-fullscreen-${i}`:`${e}-fullscreen`;return(0,N.jsx)("div",{...d,ref:c,className:r()(u,t,n&&`${e}-${n}`,o&&`${u}-centered`,l&&`${u}-scrollable`,i&&f),children:(0,N.jsx)("div",{className:r()(`${e}-content`,a),children:s})})});S.displayName="ModalDialog";var R=(0,g.Z)("modal-footer"),Z=a(703);let F=b.forwardRef(({bsPrefix:e,className:t,...a},o)=>(e=(0,j.vE)(e,"modal-header"),(0,N.jsx)(Z.Z,{ref:o,...a,className:r()(t,e)})));F.displayName="ModalHeader",F.defaultProps={closeLabel:"Close",closeButton:!1};var w=a(39602);let A=(0,w.Z)("h4");var E=(0,g.Z)("modal-title",{Component:A});function k(e){return(0,N.jsx)(C.Z,{...e,timeout:null})}function T(e){return(0,N.jsx)(C.Z,{...e,timeout:null})}let D=b.forwardRef(({bsPrefix:e,className:t,style:a,dialogClassName:o,contentClassName:n,children:C,dialogAs:g,"aria-labelledby":_,"aria-describedby":S,"aria-label":R,show:Z,animation:F,backdrop:w,keyboard:A,onEscapeKeyDown:E,onShow:D,onHide:I,container:$,autoFocus:z,enforceFocus:O,restoreFocus:P,restoreFocusOptions:M,onEntered:H,onExit:L,onExiting:V,onEnter:W,onEntering:B,onExited:U,backdropClassName:Y,manager:G,...J},X)=>{let[q,K]=(0,b.useState)({}),[Q,ee]=(0,b.useState)(!1),et=(0,b.useRef)(!1),ea=(0,b.useRef)(!1),eo=(0,b.useRef)(null),[en,er]=(0,u.Z)(),ei=(0,m.Z)(X,er),es=(0,f.Z)(I),el=(0,j.SC)();e=(0,j.vE)(e,"modal");let ed=(0,b.useMemo)(()=>({onHide:es}),[es]);function ec(){return G||(0,v.t)({isRTL:el})}function eu(e){if(!s.Z)return;let t=ec().getScrollbarWidth()>0,a=e.scrollHeight>(0,l.Z)(e).documentElement.clientHeight;K({paddingRight:t&&!a?c():void 0,paddingLeft:!t&&a?c():void 0})}let ef=(0,f.Z)(()=>{en&&eu(en.dialog)});(0,h.Z)(()=>{(0,d.Z)(window,"resize",ef),null==eo.current||eo.current()});let em=()=>{et.current=!0},eh=e=>{et.current&&en&&e.target===en.dialog&&(ea.current=!0),et.current=!1},ep=()=>{ee(!0),eo.current=(0,p.Z)(en.dialog,()=>{ee(!1)})},eb=e=>{e.target===e.currentTarget&&ep()},ex=e=>{if("static"===w){eb(e);return}if(ea.current||e.target!==e.currentTarget){ea.current=!1;return}null==I||I()},ev=e=>{A||"static"!==w?A&&E&&E(e):(e.preventDefault(),ep())},eC=(e,t)=>{e&&eu(e),null==W||W(e,t)},eg=e=>{null==eo.current||eo.current(),null==L||L(e)},e_=(e,t)=>{null==B||B(e,t),(0,i.ZP)(window,"resize",ef)},ey=e=>{e&&(e.style.display=""),null==U||U(e),(0,d.Z)(window,"resize",ef)},ej=(0,b.useCallback)(t=>(0,N.jsx)("div",{...t,className:r()(`${e}-backdrop`,Y,!F&&"show")}),[F,Y,e]),eN={...a,...q};eN.display="block";let eS=a=>(0,N.jsx)("div",{role:"dialog",...a,style:eN,className:r()(t,e,Q&&`${e}-static`),onClick:w?ex:void 0,onMouseUp:eh,"aria-label":R,"aria-labelledby":_,"aria-describedby":S,children:(0,N.jsx)(g,{...J,onMouseDown:em,className:o,contentClassName:n,children:C})});return(0,N.jsx)(y.Z.Provider,{value:ed,children:(0,N.jsx)(x.Z,{show:Z,ref:ei,backdrop:w,container:$,keyboard:!0,autoFocus:z,enforceFocus:O,restoreFocus:P,restoreFocusOptions:M,onEscapeKeyDown:ev,onShow:D,onHide:I,onEnter:eC,onEntering:e_,onEntered:H,onExit:eg,onExiting:V,onExited:ey,manager:ec(),transition:F?k:void 0,backdropTransition:F?T:void 0,renderBackdrop:ej,renderDialog:eS})})});D.displayName="Modal",D.defaultProps={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:S};var I=Object.assign(D,{Body:_,Header:F,Title:E,Footer:R,Dialog:S,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150})},75147:function(e,t,a){"use strict";var o=a(94184),n=a.n(o),r=a(67294),i=a(76792),s=a(85893);let l=r.forwardRef(({bsPrefix:e,className:t,striped:a,bordered:o,borderless:r,hover:l,size:d,variant:c,responsive:u,...f},m)=>{let h=(0,i.vE)(e,"table"),p=n()(t,h,c&&`${h}-${c}`,d&&`${h}-${d}`,a&&`${h}-${"string"==typeof a?`striped-${a}`:"striped"}`,o&&`${h}-bordered`,r&&`${h}-borderless`,l&&`${h}-hover`),b=(0,s.jsx)("table",{...f,className:p,ref:m});if(u){let x=`${h}-responsive`;return"string"==typeof u&&(x=`${x}-${u}`),(0,s.jsx)("div",{className:x,children:b})}return b});t.Z=l}},function(e){e.O(0,[4885,7847,2590,4643,6006,9774,2888,179],function(){return e(e.s=27173)}),_N_E=e.O()}]);